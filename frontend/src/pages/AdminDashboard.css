/* ============================================
   ADMIN DASHBOARD - DEEP SPACE PREMIUM
   Linear/Raycast-inspired $100M SaaS Aesthetic
   ============================================

   TABLE OF CONTENTS
   ============================================
   1. Deep Space Environment & Theme Variables
   2. Access Denied
   3. Header
   4. Tabs - Glass Style
   5. Content
   6. Stats Dashboard
   7. Hyper-Glass Cards
   8. Chart Cards
   9. Dashboard Charts Row
   10. Pie Chart Legend
   11. Full Width Chart Card
   12. Users Tab & Table
   13. Modal - Frosted Glass
   14. MUI Charts Customization
   15. Light Mode Overrides
   16. Analytics Placeholder Page
   17. Settings Page
   18. Responsive
       18.1 Tablet (1024px)
       18.2 Mobile Landscape (768px)
       18.3 Mobile Portrait (480px)
       18.4 Small Mobile (360px)
   19. Analytics Page Styles
   20. Admin Modal - Confirmation Dialogs
   ============================================ */

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

/* ============================================
   DEEP SPACE ENVIRONMENT - inherits from .page-container
   Uses design-system padding for edge margins
   ========================================== */

.admin-dashboard {
    /* Use design-system padding for consistent edge margins */
    padding: var(--space-xl, 32px) var(--space-md, 16px);
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    position: relative;
}

/* DARK MODE - Aligned with Design System */
.admin-dashboard.dark {
    /* Use design-system page background */
    background-color: var(--bg-page, #151a23);

    /* Theme Variables - Glass cards matching design system */
    --admin-card-bg: var(--glass-bg, rgba(30, 41, 59, 0.95));
    --admin-card-border: var(--glass-border, rgba(51, 65, 85, 0.5));
    --admin-card-border-hover: rgba(16, 185, 129, 0.3);
    --admin-card-highlight: inset 0 1px 0 0 rgba(255, 255, 255, 0.06);
    --admin-card-glow: var(--shadow-md, 0 4px 12px rgba(0, 0, 0, 0.4));
    --admin-text: var(--text-primary, #f8fafc);
    --admin-text-secondary: var(--text-secondary, #94a3b8);
    --admin-text-muted: var(--text-tertiary, #64748b);
    --admin-border: var(--glass-border, rgba(51, 65, 85, 0.5));
    --admin-glow-green: rgba(16, 185, 129, 0.15);
    --admin-glow-blue: rgba(59, 130, 246, 0.15);
    --admin-glow-purple: rgba(139, 92, 246, 0.15);
    --admin-green: var(--accent-primary, #10b981);
}

/* LIGHT MODE - Clean & Professional */
.admin-dashboard.light {
    background: linear-gradient(180deg, #f8fafc 0%, #f1f5f9 100%);

    --admin-card-bg: rgba(255, 255, 255, 0.95);
    --admin-card-border: rgba(15, 23, 42, 0.08);
    --admin-card-border-hover: rgba(59, 130, 246, 0.25);
    --admin-card-highlight: inset 0 1px 0 0 rgba(255, 255, 255, 1);
    --admin-card-glow: 0 4px 16px rgba(0, 0, 0, 0.08);
    --admin-text: #0f172a;
    --admin-text-secondary: #334155;
    --admin-text-muted: #64748b;
    --admin-border: rgba(15, 23, 42, 0.06);
    --admin-glow-green: transparent;
    --admin-green: #059669;
}

/* ==========================================
   ACCESS DENIED
   ========================================== */

.access-denied {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 400px;
    text-align: center;
}

.access-denied h1 {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 12px;
    color: var(--admin-text);
}

.access-denied p {
    color: var(--admin-text-muted);
}

/* ==========================================
   HEADER
   ========================================== */

.admin-header {
    margin-bottom: 36px;
}

.admin-header h1 {
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 4px;
    color: var(--admin-text);
    letter-spacing: -0.02em;
}

.admin-header p {
    color: var(--admin-text-muted);
    font-size: 0.875rem;
}

/* ==========================================
   TABS - Glass Style
   ========================================== */

.admin-tabs {
    display: inline-flex;
    gap: 4px;
    margin-bottom: 28px;
    padding: 4px;
    background: var(--admin-card-bg);
    backdrop-filter: blur(24px);
    -webkit-backdrop-filter: blur(24px);
    border-radius: 14px;
    border: 1px solid var(--admin-card-border);
    box-shadow: var(--admin-card-highlight);
}

.admin-tabs button {
    padding: 10px 18px;
    border-radius: 10px;
    font-size: 0.8125rem;
    font-weight: 500;
    transition: all 0.3s ease;
    border: none;
    background: transparent;
    color: var(--admin-text-muted);
    cursor: pointer;
}

.admin-tabs button:hover {
    color: var(--admin-text-secondary);
    background: rgba(255, 255, 255, 0.03);
}

/* ==========================================
   CONTENT
   ========================================== */

.admin-content {
    min-height: 400px;
}

.error-banner {
    background: rgba(239, 68, 68, 0.08);
    backdrop-filter: blur(12px);
    border: 1px solid rgba(239, 68, 68, 0.2);
    color: #fca5a5;
    padding: 14px 18px;
    border-radius: 14px;
    margin-bottom: 24px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 16px;
    font-size: 0.875rem;
}

.loading-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 100px;
    color: var(--admin-text-muted);
}

.loading-spinner {
    width: 32px;
    height: 32px;
    border: 2px solid rgba(255, 255, 255, 0.06);
    border-top-color: var(--admin-neon-green);
    border-radius: 50%;
    animation: spin 0.7s linear infinite;
    margin-bottom: 16px;
    box-shadow: 0 0 20px var(--admin-glow-green);
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* ==========================================
   STATS DASHBOARD
   ========================================== */

.stats-dashboard {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

/* ==========================================
   HYPER-GLASS CARDS
   ========================================== */

.summary-cards {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 14px;
}

.summary-card {
    /* Deep gray translucent */
    background: var(--admin-card-bg);

    /* Heavy blur */
    backdrop-filter: blur(24px);
    -webkit-backdrop-filter: blur(24px);

    /* Barely visible border */
    border: 1px solid var(--admin-card-border);

    /* Inner light - 3D glass effect */
    box-shadow: var(--admin-card-highlight);

    border-radius: 16px;
    padding: 24px 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 16px;
    text-align: center;

    /* Smooth hover transition */
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
}

.summary-card .card-info {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
}

/* Hover - green border glow */
.summary-card:hover {
    background: rgba(31, 41, 55, 0.6);
    border-color: var(--admin-card-border-hover);
    transform: translateY(-2px);
    box-shadow:
        var(--admin-card-highlight),
        0 0 30px -5px var(--admin-glow-green);
}

/* Icon - Monochrome Lucide Style */
.summary-card .card-icon {
    font-size: 1.25rem;
    width: 44px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 12px;
    flex-shrink: 0;
    position: relative;
    background: rgba(255, 255, 255, 0.05);
    color: var(--admin-text-secondary);
    transition: all 0.3s ease;
}

/* Light mode icon background */
.admin-dashboard.light .summary-card .card-icon {
    background: rgba(0, 0, 0, 0.04);
    color: var(--admin-text-muted);
}

/* Hover state - subtle accent */
.summary-card:hover .card-icon {
    background: rgba(var(--accent-primary-rgb, 16, 185, 129), 0.1);
    color: var(--accent-primary);
}

.summary-card .card-info {
    display: flex;
    flex-direction: column;
}

/* Typography - Small caps labels */
.summary-card .card-label {
    font-size: 10px;
    color: var(--admin-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.12em;
    font-weight: 600;
    margin-bottom: 4px;
}

/* Typography - Gradient numbers */
.summary-card .card-value {
    font-size: 1.75rem;
    font-weight: 700;
    line-height: 1;
    letter-spacing: -0.02em;

    /* Gradient text effect */
    background: linear-gradient(180deg, #ffffff 0%, #a1a1aa 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* Trend badge */
.summary-card .card-trend {
    display: inline-flex;
    font-size: 0.625rem;
    font-weight: 600;
    padding: 3px 8px;
    border-radius: 100px;
    margin-top: 6px;
    width: fit-content;
}

.summary-card .card-trend.positive {
    background: rgba(52, 211, 153, 0.1);
    color: #10b981;
    border: 1px solid rgba(52, 211, 153, 0.2);
}

/* ==========================================
   CHART CARDS - Premium Glass with Glow
   ========================================== */

.charts-grid {
    display: grid;
    grid-template-columns: 1.5fr 1fr 1fr;
    gap: 14px;
}

.chart-card {
    background: var(--admin-card-bg);
    backdrop-filter: blur(24px);
    -webkit-backdrop-filter: blur(24px);
    border: 1px solid var(--admin-card-border);
    box-shadow: var(--admin-card-highlight), var(--admin-card-glow);
    border-radius: 20px;
    padding: 24px;
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.chart-card:hover {
    border-color: var(--admin-card-border-hover);
    box-shadow:
        var(--admin-card-highlight),
        var(--admin-card-glow),
        0 0 40px -10px var(--admin-glow-purple);
}

.chart-card-wide {
    min-width: 0;
}

.line-chart-container {
    overflow-x: auto;
}

/* Chart Headers - Typography Hierarchy */
.chart-card h3 {
    font-size: 11px;
    font-weight: 600;
    color: var(--admin-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.15em;
    margin-bottom: 20px;
    padding-bottom: 14px;
    border-bottom: 1px solid var(--admin-border);
}

/* Neon Chart Lines */
.admin-dashboard.dark .chart-card svg path[stroke],
.admin-dashboard.dark .chart-card svg line {
    filter: drop-shadow(0 0 8px var(--admin-glow-blue));
}

/* ==========================================
   DASHBOARD CHARTS ROW - Two Charts Side by Side
   ========================================== */

.dashboard-charts-row {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin-top: 24px;
}

.dashboard-chart-card {
    background: var(--admin-card-bg);
    backdrop-filter: blur(24px);
    -webkit-backdrop-filter: blur(24px);
    border: 1px solid var(--admin-card-border);
    border-radius: 16px;
    padding: 20px;
    box-shadow: var(--admin-card-highlight), var(--admin-card-glow);
    overflow: hidden;
    min-width: 0;
    /* Important for flex/grid children to shrink */
}

.dashboard-chart-card:hover {
    border-color: var(--admin-card-border-hover);
}

.dashboard-chart-card .chart-header h3 {
    font-size: 0.9375rem;
    font-weight: 600;
    color: var(--admin-text);
    display: flex;
    align-items: center;
    gap: 10px;
}

.dashboard-chart-card .chart-header h3 svg {
    width: 16px;
    height: 16px;
}

.chart-container {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 180px;
    width: 100%;
    overflow: hidden;
    /* Prevent chart overflow */
}

.gauge-container {
    flex-direction: column;
}

.gauge-label {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    font-weight: 500;
    font-size: 0.8125rem;
    margin-top: 8px;
}

.risk-dot {
    display: inline-block;
    width: 8px;
    height: 8px;
    border-radius: 50%;
}

.no-data {
    color: var(--admin-text-muted);
    font-size: 0.8125rem;
}

.stats-footer {
    text-align: center;
    font-size: 0.6875rem;
    color: var(--admin-text-muted);
    margin-top: 16px;
    padding-top: 14px;
    border-top: 1px solid var(--admin-border);
}

/* Chart Header */
.chart-header {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-bottom: 16px;
    padding-bottom: 12px;
    border-bottom: 1px solid var(--admin-border);
}

.chart-header h3 {
    margin: 0;
    padding: 0;
    border: none;
}

.date-range-selector {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 6px;
}

.date-range-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
}

/* Glass Buttons */
.range-btn {
    padding: 5px 10px;
    font-size: 0.625rem;
    font-weight: 500;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 6px;
    background: rgba(255, 255, 255, 0.05);
    color: var(--admin-text-muted);
    cursor: pointer;
    transition: all 0.2s ease;
}

.range-btn:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.15);
    color: var(--admin-text-secondary);
}

.range-btn.active {
    background: rgba(16, 185, 129, 0.15);
    color: #10b981;
    border-color: rgba(16, 185, 129, 0.4);
    box-shadow: 0 0 15px rgba(16, 185, 129, 0.2);
}

.year-picker {
    padding: 5px 8px;
    font-size: 0.625rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 6px;
    background: rgba(255, 255, 255, 0.05);
    color: var(--admin-text);
    cursor: pointer;
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    padding-right: 20px;
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right 4px center;
    background-size: 10px;
    color-scheme: dark;
}

/* RTL: keep the caret from covering the year text */
[dir="rtl"] .year-picker {
    padding-right: 8px;
    padding-left: 30px;
    background-position: left 10px center;
    text-align: start;
}

/* Year picker - Force dark background on dropdown options */
.year-picker option {
    background: #1f2937;
    color: #f8fafc;
}

/* Light mode year picker */
.admin-dashboard.light .year-picker {
    background: rgba(0, 0, 0, 0.05);
    border: 1px solid rgba(0, 0, 0, 0.1);
    color: #1f2937;
    color-scheme: light;
    background-image: none;
    padding-right: 8px;
    padding-left: 8px;
    appearance: auto;
    -webkit-appearance: menulist;
    -moz-appearance: auto;
}

.admin-dashboard.light .year-picker option {
    background: #ffffff;
    color: #1f2937;
}

.custom-date-range {
    display: flex;
    align-items: center;
    gap: 4px;
}

.date-input {
    padding: 5px 6px;
    font-size: 0.625rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 6px;
    background: rgba(255, 255, 255, 0.05);
    color: var(--admin-text);
}

.date-input:focus {
    outline: none;
    border-color: var(--admin-neon-green);
    box-shadow: 0 0 10px var(--admin-glow-green);
}

.date-separator {
    color: var(--admin-text-muted);
    font-size: 0.6875rem;
}

.admin-dashboard.dark .date-input {
    color-scheme: dark;
}

/* Risk Legend */
.risk-legend {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    padding: 12px 14px;
    background: rgba(255, 255, 255, 0.02);
    border-radius: 10px;
    margin-top: 12px;
    border: 1px solid var(--admin-border);
}

.risk-legend .legend-item {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.625rem;
    font-weight: 500;
    color: var(--admin-text-muted);
}

/* Glowing dots */
.risk-legend .legend-item .dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    animation: pulse-glow 2s ease-in-out infinite;
}

.risk-legend .legend-item.excellent .dot {
    background: #22c55e;
}

.risk-legend .legend-item.good .dot {
    background: #10b981;
}

.risk-legend .legend-item.warning .dot {
    background: #f59e0b;
    box-shadow: 0 0 10px #f59e0b;
}

.risk-legend .legend-item.danger .dot {
    background: #ef4444;
    box-shadow: 0 0 10px #ef4444;
}

@keyframes pulse-glow {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.6;
    }
}

/* ==========================================
   PIE CHART LEGEND - NEW
   ========================================== */

.pie-legend {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 14px;
    background: rgba(255, 255, 255, 0.02);
    border-radius: 10px;
    margin-top: 12px;
    border: 1px solid var(--admin-border);
}

.admin-dashboard.light .pie-legend {
    background: var(--bg-tertiary);
}

.pie-legend .legend-item {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 0.75rem;
    color: var(--admin-text-secondary);
}

.pie-legend .legend-item .dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    flex-shrink: 0;
}

/* Sortable Table Headers */
.sortable-header {
    cursor: pointer;
    user-select: none;
    transition: all 0.2s ease;
    position: relative;
}

.sortable-header:hover {
    background-color: var(--bg-hover);
    color: var(--primary-color);
}

.th-content {
    display: flex;
    align-items: center;
    gap: 8px;
}

.sort-icon {
    font-size: 0.8rem;
    transition: all 0.2s ease;
}

/* Active Sort Icon */
.sort-icon.asc,
.sort-icon.desc {
    opacity: 1;
    color: var(--primary-color);
    transform: translateY(0);
}

/* Inactive Ghost Icon (Hidden by default) */
.sort-icon.inactive {
    opacity: 0;
    transform: translateY(2px);
    color: var(--text-secondary);
}

/* Show Ghost Icon on Hover */
.sortable-header:hover .sort-icon.inactive {
    opacity: 0.5;
    transform: translateY(0);
}

.pie-legend .legend-item .legend-label {
    flex: none;
}

.pie-legend .legend-item .legend-value {
    font-weight: 600;
    color: var(--admin-text);
}

/* ==========================================
   FULL WIDTH CHART CARD - NEW
   ========================================== */

.chart-card-full {
    grid-column: 1 / -1;
    margin-top: 14px;
}

/* Chart header with icons */
.chart-card h3 {
    display: flex;
    align-items: center;
    gap: 8px;
}

.chart-card h3 svg {
    opacity: 0.7;
}

/* Status indicators in filter buttons */
.status-indicator {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    display: inline-block;
    margin-right: 6px;
}

[dir="rtl"] .status-indicator {
    margin-right: 0;
    margin-left: 6px;
}

.status-indicator.active {
    background: #22c55e;
}

.status-indicator.disabled {
    background: #ef4444;
}

/* ==========================================
   ACCESS DENIED ICON
   ========================================== */

.access-denied svg {
    color: var(--admin-text-muted);
    margin-bottom: 16px;
    opacity: 0.5;
}

/* ==========================================
   USERS TAB
   ========================================== */

.users-tab {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.users-controls {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    align-items: center;
}

.search-container {
    flex: 1;
    min-width: 220px;
    position: relative;
}

.search-icon {
    position: absolute;
    left: 14px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 0.8125rem;
    pointer-events: none;
    opacity: 0.4;
}

[dir="rtl"] .search-icon {
    left: auto;
    right: 14px;
}

.search-input {
    width: 100%;
    padding: 10px 16px 10px 38px;
    border: 1px solid var(--admin-card-border);
    border-radius: 12px;
    font-size: 0.8125rem;
    background: var(--admin-card-bg);
    color: var(--admin-text);
    backdrop-filter: blur(12px);
    transition: all 0.3s ease;
}

[dir="rtl"] .search-container .search-input {
    padding-left: 16px;
    padding-right: 38px;
}

.search-input::placeholder {
    color: var(--admin-text-muted);
}

.search-input:focus {
    outline: none;
    border-color: var(--admin-neon-green);
    box-shadow: 0 0 20px var(--admin-glow-green);
}

.status-filter-buttons {
    display: flex;
    gap: 4px;
}

/* Glass filter buttons */
.filter-btn {
    padding: 9px 14px;
    font-size: 0.75rem;
    font-weight: 500;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    background: rgba(255, 255, 255, 0.05);
    color: var(--admin-text-muted);
    cursor: pointer;
    transition: all 0.2s ease;
}

.filter-btn:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.15);
}

.filter-btn.active {
    background: rgba(16, 185, 129, 0.12);
    color: #10b981;
    border-color: rgba(16, 185, 129, 0.35);
}

/* ==========================================
   LIVING USER TABLE
   ========================================== */

.users-table-wrapper {
    display: block;
    width: 100%;
    max-width: 100%;
    min-width: 0;
    overflow-x: auto;
    overflow-y: auto;
    max-height: 600px;
    -webkit-overflow-scrolling: touch;
    border-radius: 16px;
    border: 1px solid var(--admin-card-border);
    background: var(--admin-card-bg);
    backdrop-filter: blur(24px);
    box-shadow: var(--admin-card-highlight);
}

.users-table {
    width: 100%;
    min-width: 900px;
    border-collapse: collapse;
    table-layout: fixed;
}

/* Fixed column widths for consistent layout */
.users-table th:nth-child(1),
.users-table td:nth-child(1) {
    width: 280px;
}

.users-table th:nth-child(2),
.users-table td:nth-child(2) {
    width: 200px;
}

.users-table th:nth-child(3),
.users-table td:nth-child(3) {
    width: 120px;
}

.users-table th:nth-child(4),
.users-table td:nth-child(4) {
    width: 150px;
}

.users-table th:nth-child(5),
.users-table td:nth-child(5) {
    width: 150px;
}

.users-table th,
.users-table td {
    padding: 14px 18px;
    text-align: right;
    color: var(--admin-text);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

[dir="ltr"] .users-table th,
[dir="ltr"] .users-table td {
    text-align: left;
}

/* Header - Transparent, uppercase */
.users-table th {
    background: transparent;
    font-weight: 600;
    font-size: 10px;
    color: #6b7280;
    text-transform: uppercase;
    letter-spacing: 0.12em;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

/* Ghost Rows */
.users-table tbody tr {
    transition: all 0.3s ease;
}

/* Hover - Soft white glow */
.users-table tbody tr:hover {
    background: rgba(255, 255, 255, 0.02);
}

.users-table td {
    font-size: 0.8125rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.02);
}

.users-table tbody tr:last-child td {
    border-bottom: none;
}

.users-table .disabled-user td:not(.actions-cell) {
    opacity: 0.35;
}

.users-table .no-data {
    text-align: center !important;
    padding: 48px !important;
}

/* GLOWING DOT STATUS BADGES */
.status-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-size: 0.8125rem;
    font-weight: 400;
    color: #d1d5db;
    background: transparent;
}

/* Pulsing dots */
.status-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    animation: pulse-dot 2s ease-in-out infinite;
}

@keyframes pulse-dot {

    0%,
    100% {
        opacity: 1;
        transform: scale(1);
    }

    50% {
        opacity: 0.7;
        transform: scale(0.9);
    }
}

/* Active - Green dot */
.status-badge.active .status-dot {
    background: #10b981;
}

/* Pending verification - Orange dot */
.status-badge.pending .status-dot {
    background: #f59e0b;
}

/* Disabled - Red dot */
.status-badge.disabled .status-dot {
    background: #f43f5e;
}

.users-count {
    text-align: center;
    font-size: 0.75rem;
    color: var(--admin-text-muted);
}

/* Actions */
.actions-cell {
    min-width: 100px;
    width: 100px;
    text-align: center !important;
    position: sticky;
    left: 0;
    background: inherit;
    z-index: 1;
}

[dir="rtl"] .actions-cell {
    left: auto;
    right: 0;
}

.action-buttons {
    display: flex;
    gap: 6px;
    justify-content: center;
    flex-wrap: nowrap;
}

/* Glass Icon Buttons */
.action-icon-btn {
    width: 32px;
    height: 32px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.05);
    font-size: 0.875rem;
    cursor: pointer;
    transition: all 0.2s ease;
    color: var(--admin-text-secondary);
}

.action-icon-btn:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.15);
    color: var(--admin-text);
}

.action-icon-btn.success {
    color: #4ade80;
    border-color: rgba(74, 222, 128, 0.3);
}

.action-icon-btn.success:hover {
    background: rgba(74, 222, 128, 0.15);
    border-color: rgba(74, 222, 128, 0.5);
    box-shadow: 0 0 15px rgba(74, 222, 128, 0.3);
}

.action-icon-btn.danger {
    color: #f87171;
    border-color: rgba(248, 113, 113, 0.3);
}

.action-icon-btn.danger:hover {
    background: rgba(248, 113, 113, 0.15);
    border-color: rgba(248, 113, 113, 0.5);
    box-shadow: 0 0 15px rgba(248, 113, 113, 0.3);
}

.action-icon-btn:disabled {
    opacity: 0.3;
    cursor: not-allowed;
}

/* ==========================================
   MODAL - Frosted Glass
   ========================================== */

.admin-modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(16px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    animation: fadeIn 0.15s ease-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

.admin-modal {
    background: rgba(17, 24, 39, 0.95);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    padding: 26px 30px;
    max-width: 400px;
    width: 90%;
    box-shadow:
        inset 0 1px 0 0 rgba(255, 255, 255, 0.06),
        0 0 80px rgba(16, 185, 129, 0.1),
        0 25px 80px rgba(0, 0, 0, 0.7);
    animation: modalIn 0.25s ease-out;
    backdrop-filter: blur(24px);
}

@keyframes modalIn {
    from {
        opacity: 0;
        transform: translateY(20px) scale(0.97);
    }

    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.admin-modal h3 {
    margin: 0 0 12px 0;
    font-size: 1.0625rem;
    font-weight: 600;
    color: var(--admin-text);
}

.admin-modal p {
    margin: 0 0 22px 0;
    color: var(--admin-text-secondary);
    font-size: 0.875rem;
    line-height: 1.6;
}

.admin-modal .modal-actions {
    display: flex;
    gap: 10px;
    justify-content: flex-end;
}

[dir="rtl"] .admin-modal .modal-actions {
    justify-content: flex-start;
}

.modal-warning h3 {
    color: #fbbf24;
}

.modal-error h3 {
    color: #f87171;
}

.modal-success h3 {
    color: #4ade80;
}

/* ==========================================
   MUI CHARTS - Neon Glow Effects
   ========================================== */

.admin-dashboard.dark .MuiChartsLegend-label {
    fill: #e5e7eb !important;
}

.admin-dashboard.dark .MuiChartsAxis-tickLabel {
    fill: #6b7280 !important;
}

.admin-dashboard.dark .MuiChartsAxis-line {
    stroke: rgba(255, 255, 255, 0.04) !important;
}

.admin-dashboard.dark .MuiChartsGrid-line {
    stroke: rgba(255, 255, 255, 0.03) !important;
    stroke-dasharray: 4 4;
}

/* Neon glowing chart line */
.admin-dashboard.dark .MuiLineElement-root {
    filter: drop-shadow(0 0 8px rgba(16, 185, 129, 0.5));
}

.admin-dashboard.dark .MuiAreaElement-root {
    fill-opacity: 0.2;
}

/* ==========================================
   LIGHT MODE OVERRIDES - Professional Look
   ========================================== */

/* Remove all neon glows in light mode */
.admin-dashboard.light .summary-card .card-icon {
    box-shadow: none;
}

/* Light mode card value - solid dark text */
.admin-dashboard.light .summary-card .card-value {
    background: none;
    -webkit-background-clip: unset;
    -webkit-text-fill-color: #0f172a;
    background-clip: unset;
    color: #0f172a;
}

/* Light mode hover - subtle blue instead of green glow */
.admin-dashboard.light .summary-card:hover {
    background: rgba(255, 255, 255, 1);
    border-color: rgba(59, 130, 246, 0.25);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
}

/* Light mode status badges - no glow */
.admin-dashboard.light .status-badge.active {
    color: #059669;
    filter: none;
}

.admin-dashboard.light .status-badge.active .status-dot {
    background: #10b981;
    box-shadow: none;
}

.admin-dashboard.light .status-badge.disabled {
    color: #dc2626;
    filter: none;
}

.admin-dashboard.light .status-badge.disabled .status-dot {
    background: #ef4444;
    box-shadow: none;
}

/* Light mode action buttons - professional */
.admin-dashboard.light .action-icon-btn {
    background: rgba(0, 0, 0, 0.03);
    border-color: rgba(0, 0, 0, 0.1);
    color: #64748b;
}

.admin-dashboard.light .action-icon-btn:hover {
    background: rgba(0, 0, 0, 0.06);
    border-color: rgba(0, 0, 0, 0.15);
    color: #334155;
}

.admin-dashboard.light .action-icon-btn.success {
    color: #059669;
    border-color: rgba(16, 185, 129, 0.3);
}

.admin-dashboard.light .action-icon-btn.success:hover {
    background: rgba(16, 185, 129, 0.1);
    box-shadow: none;
}

.admin-dashboard.light .action-icon-btn.danger {
    color: #dc2626;
    border-color: rgba(220, 38, 38, 0.3);
}

.admin-dashboard.light .action-icon-btn.danger:hover {
    background: rgba(220, 38, 38, 0.1);
    box-shadow: none;
}

/* Light mode filter buttons */
.admin-dashboard.light .filter-btn {
    background: rgba(0, 0, 0, 0.02);
    border-color: rgba(0, 0, 0, 0.08);
    color: #64748b;
}

.admin-dashboard.light .filter-btn:hover {
    background: rgba(0, 0, 0, 0.04);
    border-color: rgba(0, 0, 0, 0.12);
}

.admin-dashboard.light .filter-btn.active {
    background: rgba(59, 130, 246, 0.1);
    color: #2563eb;
    border-color: rgba(59, 130, 246, 0.3);
}

/* Light mode range buttons */
.admin-dashboard.light .range-btn {
    background: rgba(0, 0, 0, 0.02);
    border-color: rgba(0, 0, 0, 0.08);
    color: #64748b;
}

.admin-dashboard.light .range-btn:hover {
    background: rgba(0, 0, 0, 0.04);
}

.admin-dashboard.light .range-btn.active {
    background: rgba(59, 130, 246, 0.1);
    color: #2563eb;
    border-color: rgba(59, 130, 246, 0.25);
    box-shadow: none;
}

/* Light mode search input */
.admin-dashboard.light .search-input:focus {
    border-color: rgba(59, 130, 246, 0.5);
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

/* Light mode legend dots - no glow */
.admin-dashboard.light .risk-legend .legend-item .dot {
    box-shadow: none;
    animation: none;
}

/* Light mode loading spinner */
.admin-dashboard.light .loading-spinner {
    border-top-color: #2563eb;
    box-shadow: none;
}

/* ==========================================
   RESPONSIVE
   ========================================== */

@media (max-width: 1200px) {
    .charts-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 900px) {
    .summary-cards {
        grid-template-columns: repeat(2, 1fr);
    }

    .charts-grid {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 600px) {
    .admin-dashboard {
        padding: 20px 16px;
    }

    .admin-header h1 {
        font-size: 1.25rem;
    }

    .summary-cards {
        grid-template-columns: 1fr;
    }

    .users-table th,
    .users-table td {
        padding: 12px 14px;
    }
}

/* Tablet (iPad Mini/Air) */
@media (max-width: 768px) {
    .admin-header {
        flex-direction: column;
        gap: 12px;
        text-align: center;
    }

    .tab-buttons {
        flex-direction: column;
        width: 100%;
    }

    .tab-buttons .tab-btn {
        width: 100%;
    }

    .users-controls {
        flex-direction: column;
    }

    .search-container {
        width: 100%;
    }

    .status-filter-buttons {
        width: 100%;
        justify-content: center;
    }
}

/* Small Mobile (iPhone SE) */
@media (max-width: 480px) {
    .admin-dashboard {
        padding: 16px 12px;
    }

    .admin-header h1 {
        font-size: 1.125rem;
    }

    .summary-card {
        padding: 14px;
    }

    .card-value {
        font-size: 1.25rem;
    }

    .chart-card {
        padding: 16px;
    }

    .chart-card h3 {
        font-size: 0.875rem;
    }

    .range-btn {
        padding: 4px 8px;
        font-size: 0.5625rem;
    }
}

/* ==========================================
   DASHBOARD CHARTS ROW - Two Charts Side by Side
   ========================================== */

.dashboard-charts-row {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 16px;
    width: 100%;
}

.dashboard-chart-card {
    background: var(--admin-card-bg);
    backdrop-filter: blur(24px);
    -webkit-backdrop-filter: blur(24px);
    border: 1px solid var(--admin-card-border);
    box-shadow: var(--admin-card-highlight), var(--admin-card-glow);
    border-radius: 20px;
    padding: 20px;
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    min-width: 0;
    /* Allow shrinking below content size */
    overflow: hidden;
    /* Prevent internal overflow */
}

.dashboard-chart-card:hover {
    border-color: var(--admin-card-border-hover);
}

.dashboard-chart-card .chart-header {
    margin-bottom: 12px;
    padding-bottom: 10px;
}

.dashboard-chart-card .chart-header h3 {
    font-size: 11px;
    font-weight: 600;
    color: var(--admin-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.12em;
    display: flex;
    align-items: center;
    gap: 8px;
    margin: 0;
    border: none;
    padding: 0;
}

.dashboard-chart-card .chart-header h3 svg {
    opacity: 0.7;
}

/* Chart containers in dashboard - NO horizontal scroll on desktop */
.dashboard-chart-card .chart-container {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 220px;
    overflow: visible;
    /* No scroll on desktop */
}

/* Date range compact styling */
.dashboard-chart-card .date-range-selector {
    margin-top: 8px;
}

.dashboard-chart-card .date-range-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
}

/* ==========================================
   RESPONSIVE - 1200px (Charts Stack)
   ========================================== */
@media (max-width: 1200px) {
    .dashboard-charts-row {
        grid-template-columns: 1fr;
    }

    .dashboard-chart-card {
        width: 100%;
    }

    .dashboard-chart-card .chart-container {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }
}

/* ==========================================
   ANALYTICS PLACEHOLDER PAGE
   ========================================== */

.analytics-placeholder,
.placeholder-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
    margin-top: 24px;
}

.placeholder-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 48px 32px;
    background: var(--admin-card-bg);
    backdrop-filter: blur(24px);
    border: 1px dashed var(--admin-card-border);
    border-radius: 16px;
    transition: all 0.3s ease;
}

.placeholder-card:hover {
    border-color: var(--accent-primary);
    border-style: solid;
}

.placeholder-card svg {
    color: var(--admin-text-muted);
    margin-bottom: 16px;
    opacity: 0.5;
}

.placeholder-card h3 {
    font-size: 1rem;
    font-weight: 600;
    color: var(--admin-text);
    margin-bottom: 8px;
}

.placeholder-card p {
    font-size: 0.8125rem;
    color: var(--admin-text-muted);
    margin: 0;
}

/* ==========================================
   SETTINGS PAGE
   ========================================== */

.settings-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 16px;
    margin-top: 24px;
}

.settings-card {
    display: flex;
    align-items: flex-start;
    gap: 16px;
    padding: 20px 24px;
    background: var(--admin-card-bg);
    backdrop-filter: blur(24px);
    border: 1px solid var(--admin-card-border);
    border-radius: 12px;
    position: relative;
    transition: all 0.3s ease;
}

.settings-card:hover {
    border-color: var(--admin-card-border-hover);
}

.settings-card-icon {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    background: rgba(var(--accent-primary-rgb, 16, 185, 129), 0.12);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.settings-card-icon svg {
    color: var(--accent-primary);
}

.settings-card-content h3 {
    font-size: 0.9375rem;
    font-weight: 600;
    color: var(--admin-text);
    margin: 0 0 6px 0;
}

.settings-card-content p {
    font-size: 0.8125rem;
    color: var(--admin-text-muted);
    margin: 0;
}

.settings-badge {
    position: absolute;
    top: 12px;
    right: 12px;
    padding: 4px 10px;
    background: rgba(245, 158, 11, 0.15);
    color: #fbbf24;
    font-size: 0.6875rem;
    font-weight: 600;
    border-radius: 20px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

[dir="rtl"] .settings-badge {
    right: auto;
    left: 12px;
}

/* ============================================
   RESPONSIVE - TABLET (1024px)
   ============================================ */

@media (max-width: 1024px) {

    /* Admin pages: when sidebar is hidden, let content span full width */
    .admin-dashboard.page-container > *:not(.section-band):not(.section-band-alt) {
        max-width: none;
        margin-left: 0;
        margin-right: 0;
    }
    .admin-dashboard {
        padding: 24px 16px;
    }

    .summary-cards {
        grid-template-columns: repeat(2, 1fr);
    }

    .charts-grid {
        grid-template-columns: 1fr 1fr;
    }

    .chart-card-wide {
        grid-column: span 2;
    }

    .chart-card-full {
        grid-column: span 2;
    }

    .chart-container {
        overflow-x: auto;
    }

    .users-controls {
        flex-direction: column;
        gap: 12px;
    }

    .status-filter-buttons {
        width: 100%;
        justify-content: flex-start;
    }

    .search-container {
        width: 100%;
    }

    .settings-grid {
        grid-template-columns: 1fr;
    }

    /* Dashboard Charts - Stack on tablet */
    .dashboard-charts-row {
        grid-template-columns: 1fr;
        gap: 14px;
    }

    .dashboard-chart-card .chart-container {
        overflow-x: auto;
        justify-content: flex-start;
    }

    .placeholder-grid {
        grid-template-columns: 1fr 1fr;
    }
}

/* ============================================
   RESPONSIVE - MOBILE LANDSCAPE (768px)
   ============================================ */

@media (max-width: 768px) {
    .admin-dashboard {
        padding: 16px 12px;
    }

    .admin-header {
        margin-bottom: 24px;
    }

    .admin-header h1 {
        font-size: 1.25rem;
        display: flex;
        align-items: center;
    }

    .admin-header p {
        font-size: 0.8125rem;
    }

    .summary-cards {
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
    }

    .summary-card {
        padding: 14px;
    }

    .card-value {
        font-size: 1.25rem;
    }

    .card-label {
        font-size: 0.6875rem;
    }

    .charts-grid {
        grid-template-columns: 1fr;
        gap: 16px;
    }

    .chart-card,
    .chart-card-wide,
    .chart-card-full {
        grid-column: span 1;
    }

    .chart-card {
        padding: 16px;
    }

    .chart-card h3 {
        font-size: 0.875rem;
    }

    .chart-container {
        min-height: 180px;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }

    .line-chart-container,
    .bar-chart-container {
        min-width: 350px;
    }

    .date-range-selector {
        flex-direction: column;
        align-items: stretch;
    }

    .date-range-buttons {
        flex-wrap: wrap;
        gap: 6px;
    }

    .range-btn {
        padding: 6px 10px;
        font-size: 0.6875rem;
    }

    .year-picker {
        width: 100%;
        margin-top: 8px;
    }

    .pie-legend {
        gap: 8px;
    }

    .legend-item {
        font-size: 0.75rem;
    }

    /* Users Table */
    .users-table-wrapper {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }

    .users-table {
        min-width: 900px;
        table-layout: fixed;
        font-size: 0.8125rem;
    }

    .users-table th,
    .users-table td {
        padding: 10px 12px;
        white-space: nowrap;
    }

    .action-buttons {
        gap: 4px;
    }

    .action-icon-btn {
        width: 28px;
        height: 28px;
    }

    .status-filter-buttons {
        flex-wrap: wrap;
    }

    .filter-btn {
        padding: 8px 12px;
        font-size: 0.75rem;
    }

    .placeholder-grid {
        grid-template-columns: 1fr;
    }

    .placeholder-card {
        padding: 24px 20px;
    }

    .settings-card {
        padding: 16px;
    }

    .settings-card-icon {
        width: 40px;
        height: 40px;
    }
}

/* ============================================
   RESPONSIVE - MOBILE PORTRAIT (480px)
   ============================================ */

@media (max-width: 480px) {
    .admin-dashboard {
        /* Use design-system spacing for gray edge visibility */
        padding: var(--space-lg, 24px) var(--space-md, 16px);
    }

    .admin-header {
        margin-bottom: 16px;
    }

    .admin-header h1 {
        font-size: 1.125rem;
    }

    .summary-cards {
        grid-template-columns: 1fr 1fr;
        gap: 8px;
    }

    .summary-card {
        padding: 12px;
        flex-direction: column;
        text-align: center;
        gap: 8px;
    }

    .card-icon {
        width: 36px;
        height: 36px;
    }

    .card-icon svg {
        width: 18px;
        height: 18px;
    }

    .card-value {
        font-size: 1.125rem;
    }

    .card-label {
        font-size: 0.625rem;
    }

    .chart-card {
        padding: 12px;
    }

    .chart-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
    }

    .gauge-container {
        transform: scale(0.85);
        transform-origin: center;
    }

    .error-banner {
        flex-direction: column;
        text-align: center;
        gap: 12px;
        padding: 16px;
    }

    .loading-state {
        padding: 40px 20px;
    }

    .access-denied {
        padding: 40px 20px;
    }

    .access-denied h1 {
        font-size: 1.5rem;
    }

    /* Admin Modal */
    .admin-modal {
        width: 95%;
        max-width: none;
        margin: 0 10px;
        padding: 20px;
    }

    .modal-actions {
        flex-direction: column;
        gap: 8px;
    }

    .modal-actions button {
        width: 100%;
    }

    /* Users Table - Mobile Scroll (constrained to viewport) */
    .users-table-wrapper {
        max-width: calc(100vw - 32px);
        width: 100%;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        box-sizing: border-box;
    }

    .users-table {
        min-width: 900px;
        table-layout: fixed;
    }

    .users-table th,
    .users-table td {
        padding: 8px 10px;
        font-size: 0.75rem;
        white-space: nowrap;
    }

    .action-icon-btn {
        width: 24px;
        height: 24px;
    }

    .action-icon-btn svg {
        width: 12px;
        height: 12px;
    }
}

/* ============================================
   RESPONSIVE - Small Mobile (360px)
   ============================================ */

@media (max-width: 360px) {
    .summary-cards {
        grid-template-columns: 1fr;
    }

    .summary-card {
        flex-direction: row;
        text-align: left;
    }

    .chart-container {
        min-height: 150px;
    }
}

/* ============================================
   ANALYTICS PAGE - SPECIFIC STYLES
   ============================================ */

/* Two equal cards in a row */
.analytics-cards-row {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin-bottom: 20px;
    width: 100%;
    box-sizing: border-box;
}

.analytics-card {
    background: var(--admin-card-bg);
    backdrop-filter: blur(24px);
    border: 1px solid var(--admin-card-border);
    border-radius: 16px;
    padding: 24px;
    box-shadow: var(--admin-card-glow);
    overflow: hidden;
    /* Prevent content from overflowing card */
    min-width: 0;
    /* Allow flex/grid children to shrink */
    box-sizing: border-box;
}

.analytics-card h3 {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 0.9375rem;
    font-weight: 600;
    color: var(--admin-text);
    margin-bottom: 20px;
}

.analytics-card h3 svg {
    color: var(--admin-text-muted);
}

.analytics-card-full {
    grid-column: span 2;
}

.chart-content {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 24px;
    min-height: 200px;
    max-width: 100%;
    overflow: visible;
    flex-wrap: wrap;
}

.gauge-content {
    flex-direction: column;
    align-items: center;
}

.pie-chart-wrapper {
    flex-shrink: 0;
    max-width: 100%;
    overflow: visible;
    display: flex;
    justify-content: center;
}

/* Pie Legend - sits below chart on mobile */
.pie-legend {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.8125rem;
    color: var(--admin-text-secondary);
}

.legend-item .dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    flex-shrink: 0;
}

.legend-item .legend-label {
    flex: 1;
}

.legend-item .legend-value {
    font-weight: 600;
    color: var(--admin-text);
}

/* Bar Chart Section - Legend ABOVE Chart */
.bar-chart-section {
    display: flex;
    flex-direction: column;
    gap: 20px;
    align-items: center;
    width: 100%;
    overflow: visible;
}

.bar-chart-wrapper {
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow-x: auto;
    overflow-y: visible;
    -webkit-overflow-scrolling: touch;
    order: 2;
    /* Chart goes second (below legend) */
    padding: 20px 0;
    min-height: 300px;
    height: 300px;
    flex-shrink: 0;
}

.bar-chart-legend {
    width: 100%;
    order: 1;
    /* Legend goes first (above chart) */
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    margin-bottom: 10px;
    flex-shrink: 0;
    padding-bottom: 15px;
    border-bottom: 1px solid var(--admin-border);
}

.bar-chart-legend table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.8125rem;
}

.bar-chart-legend th {
    text-align: start;
    padding: 8px 12px;
    font-weight: 600;
    color: var(--admin-text-muted);
    border-bottom: 1px solid var(--admin-border);
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.bar-chart-legend td {
    padding: 10px 12px;
    color: var(--admin-text-secondary);
    border-bottom: 1px solid var(--admin-border);
}

.bar-chart-legend td.code-cell {
    width: 60px;
}

.code-badge {
    display: inline-block;
    padding: 2px 8px;
    border-radius: 4px;
    color: white;
    font-size: 0.8rem;
    font-weight: 600;
    min-width: 36px;
    text-align: center;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

.bar-chart-legend .code-cell {
    font-weight: 600;
    color: #3B82F6;
    font-family: var(--font-mono, monospace);
}

.bar-chart-legend .issue-cell {
    color: var(--admin-text);
}

.bar-chart-legend .count-cell {
    font-weight: 600;
    color: var(--admin-text);
    text-align: center;
}

.bar-chart-legend tr:hover td {
    background: rgba(255, 255, 255, 0.03);
}

.admin-dashboard.light .bar-chart-legend tr:hover td {
    background: var(--bg-tertiary);
}

/* Gauge Label */
.gauge-label {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    font-size: 0.875rem;
    font-weight: 600;
    margin-top: 8px;
}

.risk-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
}

/* ============================================
   ANALYTICS - RESPONSIVE
   ============================================ */

/* Stack cards earlier at 900px for better tablet experience */
@media (max-width: 900px) {
    .analytics-cards-row {
        grid-template-columns: 1fr;
        max-width: 100%;
    }

    .analytics-card-full {
        grid-column: span 1;
        max-width: 100%;
    }

    /* Stack pie chart and legend vertically */
    .chart-content {
        flex-direction: column;
        align-items: center;
        gap: 20px;
    }

    .pie-chart-wrapper {
        width: 100%;
        display: flex;
        justify-content: center;
        order: 1;
    }

    .pie-legend {
        width: 100%;
        max-width: 300px;
        order: 2;
    }

    .gauge-content {
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
    }
}

@media (max-width: 1024px) {
    .bar-chart-section {
        flex-direction: column;
    }

    .bar-chart-legend {
        width: 100%;
        min-width: unset;
    }
}

@media (max-width: 768px) {
    .analytics-cards-row {
        grid-template-columns: 1fr;
        gap: 16px;
    }

    .analytics-card {
        padding: 20px;
    }

    .analytics-card-full {
        grid-column: span 1;
    }

    .chart-content {
        flex-direction: column;
        gap: 16px;
        min-height: 180px;
    }

    .bar-chart-wrapper {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        justify-content: flex-start;
        padding-left: 10px;
    }

    .bar-chart-legend {
        overflow-x: auto;
    }

    .bar-chart-legend table {
        font-size: 0.75rem;
        min-width: 320px;
    }

    .bar-chart-legend th,
    .bar-chart-legend td {
        padding: 8px;
    }
}

@media (max-width: 480px) {
    .analytics-card {
        padding: 16px;
    }

    .analytics-card h3 {
        font-size: 0.875rem;
    }

    /* Fix pie chart and legend layout on small screens */
    .chart-content {
        flex-direction: column;
        align-items: center;
        gap: 12px;
    }

    .pie-chart-wrapper {
        width: 100%;
        display: flex;
        justify-content: center;
        overflow: visible;
    }

    /* Scale down charts on mobile */
    .pie-chart-wrapper svg {
        max-width: 100%;
        height: auto;
    }

    .pie-legend {
        width: 100%;
    }

    .pie-legend-item {
        font-size: 0.75rem;
        gap: 6px;
    }

    /* Gauge chart centering */
    .gauge-content {
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    /* Bar chart section - more spacing on mobile */
    .bar-chart-section {
        gap: 25px;
    }

    .bar-chart-wrapper {
        min-height: 280px;
        height: 280px;
        padding: 20px 0;
        flex-shrink: 0;
    }

    /* Bar chart legend responsive - with horizontal scroll */
    .bar-chart-legend {
        min-width: unset;
        width: 100%;
        overflow-x: auto;
                padding: 0 8px;
-webkit-overflow-scrolling: touch;
        margin-bottom: 15px;
        flex-shrink: 0;
    }

    .bar-chart-legend table {
        font-size: 0.6875rem;
        min-width: 280px;
        /* Ensure table doesn't shrink too much */
    }

    .bar-chart-legend th,
    .bar-chart-legend td {
        padding: 6px 4px;
        white-space: nowrap;
        /* Prevent text wrapping */
    }
}

/* ============================================
   DASHBOARD PAGE - CHARTS ROW
   ============================================ */

.dashboard-charts-row {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin-top: 24px;
}

.dashboard-chart-card {
    background: var(--admin-card-bg);
    backdrop-filter: blur(24px);
    border: 1px solid var(--admin-card-border);
    border-radius: 16px;
    padding: 20px;
    box-shadow: var(--admin-card-glow);
    overflow: hidden;
    min-width: 0;
}

.dashboard-chart-card .chart-header {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-bottom: 16px;
    padding-bottom: 12px;
    border-bottom: 1px solid var(--admin-border);
}

.dashboard-chart-card .chart-header h3 {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 0.9375rem;
    font-weight: 600;
    color: var(--admin-text);
    margin: 0;
    padding: 0;
    border: none;
}

.dashboard-chart-card .chart-header h3 svg {
    color: var(--admin-text-muted);
}

.dashboard-chart-card .chart-container {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 200px;
    width: 100%;
}

/* Force MUI charts to respect container */
.dashboard-chart-card .chart-container>div {
    width: 100% !important;
    max-width: 100%;
}

/* Dashboard Charts Responsive */
@media (max-width: 1200px) {
    .dashboard-charts-row {
        gap: 16px;
    }

    .dashboard-chart-card {
        padding: 16px;
    }
}

@media (max-width: 1024px) {
    .dashboard-charts-row {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 768px) {
    .dashboard-chart-card {
        padding: 14px;
    }

    .dashboard-chart-card .chart-container {
        min-height: 180px;
    }

    .dashboard-chart-card .chart-header h3 {
        font-size: 0.875rem;
    }
}

@media (max-width: 480px) {
    .dashboard-charts-row {
        gap: 12px;
        margin-top: 16px;
    }

    .dashboard-chart-card {
        padding: 12px;
    }

    .dashboard-chart-card .chart-container {
        min-height: 160px;
    }
}

/* ============================================
   ADMIN MODAL - Confirmation Dialogs
   ============================================ */

.admin-modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.75);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    animation: fadeIn 0.2s ease-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

.admin-modal {
    background: rgba(17, 24, 39, 0.98);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-lg, 20px);
    padding: 28px 32px;
    max-width: 420px;
    width: 90%;
    box-shadow:
        inset 0 1px 0 0 rgba(255, 255, 255, 0.06),
        0 0 60px rgba(0, 0, 0, 0.5),
        0 25px 80px rgba(0, 0, 0, 0.6);
    animation: modalSlideIn 0.25s ease-out;
}

@keyframes modalSlideIn {
    from {
        opacity: 0;
        transform: translateY(20px) scale(0.96);
    }

    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.admin-modal h3 {
    margin: 0 0 14px 0;
    font-size: 1.125rem;
    font-weight: 600;
    color: #f8fafc;
}

.admin-modal p {
    margin: 0 0 24px 0;
    color: #94a3b8;
    font-size: 0.9375rem;
    line-height: 1.7;
}

.admin-modal .modal-actions {
    display: flex;
    gap: 12px;
    justify-content: flex-end;
}

[dir="rtl"] .admin-modal .modal-actions {
    justify-content: flex-start;
}

/* Modal Types - Warning */
.admin-modal.modal-warning h3 {
    color: #fbbf24;
}

/* Modal Types - Error */
.admin-modal.modal-error h3 {
    color: #f87171;
}

/* Modal Types - Success */
.admin-modal.modal-success h3 {
    color: #4ade80;
}

/* ============================================
   ADMIN MODAL - LIGHT MODE (Portal-based)
   ============================================ */

.admin-modal-overlay.light {
    background: rgba(15, 23, 42, 0.5);
}

.admin-modal.light .btn-secondary {
    background: var(--glass-border, rgba(0, 0, 0, 0.08));
}

/* Light Mode - Button hover */
.admin-modal.light .btn-secondary:hover {
    background: rgba(0, 0, 0, 0.08) !important;
}

.admin-modal.light {
    background: var(--bg-card, #ffffff);
    border: 1px solid var(--glass-border, rgba(0, 0, 0, 0.08));
    box-shadow:
        0 0 0 1px rgba(0, 0, 0, 0.04),
        0 8px 40px rgba(0, 0, 0, 0.15),
        0 25px 80px rgba(0, 0, 0, 0.1);
}

.admin-modal.light h3 {
    color: var(--text-primary, #0f172a);
}

.admin-modal.light p {
    color: var(--text-secondary, #475569);
}

/* Light Mode - Modal Types */
.admin-modal.light.modal-warning h3 {
    color: var(--accent-warning, #d97706);
}

.admin-modal.light.modal-error h3 {
    color: var(--accent-danger, #dc2626);
}

.admin-modal.light.modal-success h3 {
    color: var(--accent-success, #059669);
}

/* ============================================
   RESPONSIVE - ADMIN DASHBOARD
   ============================================ */

/* Large tablet / Small desktop (1024px) - Start scroll here */
@media (max-width: 1024px) {

    /* Users table - horizontal scroll EARLY */
    .users-table-wrapper {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
    }

    .users-table {
        min-width: 900px;
        table-layout: fixed;
    }

    /* Analytics charts - overflow for scroll */
    .analytics-charts-container,
    .chart-card {
        overflow-x: auto;
    }
}

/* Tablet (768px) */
@media (max-width: 768px) {
    .admin-dashboard {
        padding: var(--space-md, 16px) var(--space-sm, 8px);
    }

    .users-table {
        min-width: 900px;
        table-layout: fixed;
    }

    .users-table th,
    .users-table td {
        padding: 10px 12px;
        font-size: 12px;
        white-space: nowrap;
    }

    /* Charts - stack vertically with scroll */
    .charts-row {
        flex-direction: column;
    }

    .chart-card {
        width: 100% !important;
        min-width: 400px;
    }

    /* Stats grid */
    .stats-grid {
        grid-template-columns: repeat(2, 1fr);
    }

    /* Admin header */
    .admin-header {
        flex-direction: column;
        align-items: stretch;
        gap: 16px;
    }

    .admin-tabs {
        flex-wrap: wrap;
        justify-content: center;
    }
}

/* Small tablet / large phone (600px) */
@media (max-width: 600px) {
    .users-table {
        width: 1100px !important;
        min-width: 1100px !important;
        table-layout: fixed;
    }

    /* Filter buttons - stack */
    .filter-group {
        flex-direction: column;
        width: 100%;
    }

    .filter-btn {
        width: 100%;
    }

    .chart-card {
        min-width: 350px;
    }
}

/* Responsive Modal (480px) */
@media (max-width: 480px) {
    .admin-dashboard {
        padding: var(--space-sm, 8px);
    }

    /* Stats - single column */
    .stats-grid {
        grid-template-columns: 1fr;
    }

    .users-table {
        width: 1100px !important;
        min-width: 1100px !important;
        table-layout: fixed;
    }

    .users-table th,
    .users-table td {
        padding: 8px 10px;
        font-size: 11px;
        white-space: nowrap;
    }

    /* Admin tab buttons */
    .tab-button {
        padding: 8px 12px;
        font-size: 12px;
    }

    .chart-card {
        min-width: 300px;
    }

    .admin-modal {
        width: 94%;
        padding: 22px 20px;
        margin: 0 12px;
    }

    .admin-modal h3 {
        font-size: 1rem;
    }

    .admin-modal p {
        font-size: 0.875rem;
        margin-bottom: 20px;
    }

    .admin-modal .modal-actions {
        flex-direction: column;
        gap: 10px;
    }

    .admin-modal .modal-actions button {
        width: 100%;
    }
}